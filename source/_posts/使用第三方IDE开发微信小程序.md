title: 使用第三方IDE开发微信小程序
date: 2016-12-14 00:07:00
tags: IDE, 小程序, gulp
---


昨天在朋友圈看到有前同事抱怨微信小程序的IDE经常崩溃，而我们团队在这两个多月的开发中并没被这个问题所困扰，所以就想着是不是可以分享下我们现在的开发流程，嗯，开始吧。额，不过开始前要申明，这套流程不是我的想法，而是我们的96小鲜肉的作品. 而我作为一枚常年奴役在Xcode下的iOSer，怎么可能敢对IDE有半点不敬呢。

<!--more-->

##### gulp 
先介绍下gulp，不知道的童鞋github一下，看着24000+的star就知道是个好工具了（[github repo](https://github.com/gulpjs/gulp)）。gulp可以理解成是个预处理工具、构建工具之类的，并且提供各类插件。当然这个工具也有替代品，Grunt之类的。所以使用这个工具就可以使用你喜欢的IDE来码代码了，而小程序开发工具就可以全职当模拟器和调试器啦。感觉给前端科普gulp是在作死，谁会不知道，额，不过也可能不只前端在做小程序，比如我，此处手动微笑。

##### 概览
简单地说，就是把工程中相应wxml、wxss分别替换成html和scss文件来开发，再利用gulp命令来预处理回之前的格式，然后在小程序开发工具进行预览和调试。下面再说说使用gulp构建小程序带来的好处

##### html、scss=>wxml、wxss 
增加这个步骤是为了让其他IDE能继续代码高亮、提示和格式化之类的，当然如果你是用文本编辑器来码代码，当我没说😂。当然，好处不只这一些，比如sass，sass可以理解为是css的一种拓展格式，在实践中最大的好处就是使样式具有层级关系，这样代码容易阅读和定位，还有更多更强大的功能，自行google咯。

##### gulp tools
gulp作为一个强大的构建工具，提供了很多插件，比如你可以利用babel来实现es6转es5，虽然原生工具现在也支持了，你也可以让小的资源转成base64字符串，使用gulp还能更方便地切换测试和开发环境，也能方便地打包各个环境的代码，反正之前在web开发能做到的，这里基本都能做到。

##### any IDE
接下来，你就可以使用你喜欢的IDE，用你喜欢的各种姿势。我大部分时间都用vscode，支持插件，各种格式化选项，还有命令行工具，在终端目录下使用"code ."命令就能打开当前工程。

##### 全职模拟器
当原生工具不再承担码代码的功能，我相信它也是快乐的。首先它崩溃的几率就少了很多，并且你可以把它放在第二个屏幕上或者你喜欢的任何地方，它肯定活得比现在轻松和快乐许多。当然你可能还是要承受一点损失，小程序原生api的代码提示功能，还有你码代码前，得跑下监听的命令。

##### 模版
上面净说了一堆，我在自己的github上建了个[模板工程](https://github.com/PointerTan/MINA-Gulp-Template)，代码沿用我们之前的工程，具体用法请阅读README。

